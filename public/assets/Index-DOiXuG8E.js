import{_ as b}from"./AuthenticatedLayout-DitEw9wP.js";import{j as _,c as g,o as a,a as x,u as n,Z as L,w as d,b as e,F as p,r as N,t as l,n as C,i as c,h as u,k,d as f,N as w}from"./app-BEZNL6kN.js";import"./ApplicationLogo-TP7P839r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"flex justify-between items-center"},D={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},I={class:"p-6"},V={class:"overflow-x-auto"},j={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},E={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},F={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100"},$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},A={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},R={class:"px-6 py-4 whitespace-nowrap"},z={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},M={class:"flex space-x-2 items-center"},O=["onClick","disabled"],P={key:0},T={key:1},Z={class:"mt-6 flex justify-between items-center"},q={class:"text-sm text-gray-700 dark:text-gray-300"},G={class:"flex space-x-2"},X={__name:"Index",props:{networkLogs:Object},setup(o){const i=_(null),h=r=>{if(!r){alert("Error: Missing log ID!");return}if(!confirm("Are you sure you want to delete this network log?"))return;i.value=r;let t=null;try{t=route("network-logs.destroy",{network_log:r})}catch{t=`/network-logs/${encodeURIComponent(r)}`}String(t).includes(String(r))||(t=`/network-logs/${encodeURIComponent(r)}`),console.log("[deleteLog] id:",r," -> url:",t),w.delete(t,{preserveScroll:!0,onSuccess:()=>{i.value=null,w.reload()},onError:s=>{i.value=null,console.error("[deleteLog] error:",s),alert("Failed to delete log. Check console for details.")}})},m=r=>({pending:"text-yellow-600 bg-yellow-100",processing:"text-blue-600 bg-blue-100",processed:"text-green-600 bg-green-100",failed:"text-red-600 bg-red-100"})[r]||"text-gray-600 bg-gray-100",v=r=>new Date(r).toLocaleDateString();return(r,t)=>(a(),g(p,null,[x(n(L),{title:"Network Logs"}),x(b,null,{header:d(()=>[e("div",S,[t[1]||(t[1]=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Network Logs ",-1)),x(n(c),{href:r.route("network-logs.create"),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},{default:d(()=>[...t[0]||(t[0]=[u(" Upload New Log ",-1)])]),_:1},8,["href"])])]),default:d(()=>[e("div",D,[e("div",U,[e("div",B,[e("div",I,[e("div",V,[e("table",j,[t[4]||(t[4]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"File Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Uploaded By"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Upload Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",E,[(a(!0),g(p,null,N(o.networkLogs.data,s=>{var y;return a(),g("tr",{key:s.id},[e("td",F,l(s.file_name),1),e("td",$,l(((y=s.user)==null?void 0:y.name)||"Unknown"),1),e("td",A,l(v(s.upload_date)),1),e("td",R,[e("span",{class:C([m(s.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},l(s.status),3)]),e("td",z,[e("div",M,[x(n(c),{href:r.route("network-logs.show",s.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:d(()=>[...t[2]||(t[2]=[u("View",-1)])]),_:1},8,["href"]),x(n(c),{href:r.route("network-logs.edit",s.id),class:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300"},{default:d(()=>[...t[3]||(t[3]=[u("Edit",-1)])]),_:1},8,["href"]),e("button",{onClick:H=>h(s.id),disabled:i.value===s.id,class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50"},[i.value===s.id?(a(),g("span",P,"Deleting...")):(a(),g("span",T,"Delete"))],8,O)])])])}),128))])])]),e("div",Z,[e("div",q," Showing "+l(o.networkLogs.from)+" to "+l(o.networkLogs.to)+" of "+l(o.networkLogs.total)+" results ",1),e("div",G,[o.networkLogs.prev_page_url?(a(),k(n(c),{key:0,href:o.networkLogs.prev_page_url,class:"px-3 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600"},{default:d(()=>[...t[5]||(t[5]=[u("Previous",-1)])]),_:1},8,["href"])):f("",!0),o.networkLogs.next_page_url?(a(),k(n(c),{key:1,href:o.networkLogs.next_page_url,class:"px-3 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600"},{default:d(()=>[...t[6]||(t[6]=[u("Next",-1)])]),_:1},8,["href"])):f("",!0)])])])])])])]),_:1})],64))}};export{X as default};
