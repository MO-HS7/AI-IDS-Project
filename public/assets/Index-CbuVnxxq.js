import{_ as Q}from"./AuthenticatedLayout-DitEw9wP.js";import{Q as W,j as y,x as Y,m as c,c as n,o as i,a as S,d as a,u as b,Z,b as e,t as l,n as g,w,F as p,r as B,k as j,i as T,h as V,N as u}from"./app-BEZNL6kN.js";import"./ApplicationLogo-TP7P839r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={key:0,class:"fixed top-4 right-4 z-50 max-w-sm"},J={class:"flex-shrink-0"},K={key:0,class:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},X={key:1,class:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ee={key:2,class:"h-5 w-5 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},te={key:3,class:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},se={class:"flex-1 min-w-0"},oe={class:"text-sm font-medium text-gray-900"},ie={key:0,class:"text-sm text-gray-500"},ne={class:"flex justify-between items-center"},le={class:"flex space-x-3"},re={class:"py-12"},ae={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},de={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},ce={class:"bg-white overflow-hidden shadow rounded-lg"},ue={class:"p-5"},xe={class:"flex items-center"},he={class:"flex-shrink-0"},fe={class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},ge={class:"text-white text-sm font-bold"},me={class:"ml-5 w-0 flex-1"},ve={class:"text-lg font-medium text-gray-900"},_e={class:"bg-white overflow-hidden shadow rounded-lg"},ye={class:"p-5"},be={class:"flex items-center"},we={class:"flex-shrink-0"},pe={class:"w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center"},ke={class:"text-white text-sm font-bold"},Ce={class:"ml-5 w-0 flex-1"},Ne={class:"text-lg font-medium text-gray-900"},je={class:"bg-white overflow-hidden shadow rounded-lg"},Te={class:"p-5"},Me={class:"flex items-center"},Ae={class:"flex-shrink-0"},Le={class:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center"},Se={class:"text-white text-sm font-bold"},Be={class:"ml-5 w-0 flex-1"},Ve={class:"text-lg font-medium text-gray-900"},$e={class:"bg-white overflow-hidden shadow rounded-lg"},ze={class:"p-5"},De={class:"flex items-center"},He={class:"flex-shrink-0"},Re={class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center"},Ee={class:"text-white text-sm font-bold"},Ue={class:"ml-5 w-0 flex-1"},Fe={class:"text-lg font-medium text-gray-900"},Oe={class:"bg-white shadow overflow-hidden sm:rounded-lg"},qe={key:0,class:"text-center py-12"},Ie={key:1,class:"divide-y divide-gray-200"},Pe={class:"px-4 py-4 sm:px-6"},Qe={class:"flex items-center justify-between"},We={class:"flex items-center space-x-4"},Ye={class:"flex-shrink-0"},Ze={class:"flex-1 min-w-0"},Ge={class:"flex items-center space-x-2 mb-1"},Je={class:"text-sm font-medium text-gray-900 truncate"},Ke={key:0,class:"inline-block w-2 h-2 bg-blue-600 rounded-full"},Xe={class:"text-sm text-gray-600 mb-2"},et={class:"flex items-center justify-between"},tt={class:"text-xs text-gray-500"},st={class:"flex space-x-2"},ot=["onClick"],it=["onClick"],nt=["onClick"],lt={key:2,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},rt={class:"flex-1 flex justify-between sm:hidden"},at={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},dt={class:"text-sm text-gray-700"},ct={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},ut=["innerHTML"],mt={__name:"Index",props:{notifications:{type:Object,required:!0,default:()=>({data:[],total:0})}},setup(r){const $=W(),x=r,h=y(!1),d=y("success"),m=y(""),f=y("");Y(()=>$.props.flash,s=>{s&&Object.keys(s).length>0&&(s.success?D("Success",s.success):s.error?H("Error",s.error):s.info&&N("Info",s.info))},{immediate:!0,deep:!0});const k=c(()=>x.notifications.total||0),C=c(()=>x.notifications.data.filter(s=>!s.read_at).length),M=c(()=>x.notifications.data.filter(s=>s.read_at).length),A=c(()=>x.notifications.data.filter(s=>s.data.severity==="critical").length),L=c(()=>C.value>0),z=c(()=>{const s={success:"border-green-200 bg-green-50",error:"border-red-200 bg-red-50",warning:"border-yellow-200 bg-yellow-50",info:"border-blue-200 bg-blue-50"};return s[d.value]||s.success}),v=()=>{h.value=!1},D=(s,t="")=>{d.value="success",m.value=s,f.value=t,h.value=!0,setTimeout(()=>v(),5e3)},H=(s,t="")=>{d.value="error",m.value=s,f.value=t,h.value=!0,setTimeout(()=>v(),5e3)},N=(s,t="")=>{d.value="warning",m.value=s,f.value=t,h.value=!0,setTimeout(()=>v(),5e3)},R=s=>({critical:"bg-red-100 text-red-600",high:"bg-orange-100 text-orange-600",medium:"bg-yellow-100 text-yellow-600",low:"bg-green-100 text-green-600"})[s]||"bg-gray-100 text-gray-600",E=s=>({critical:"bg-red-100 text-red-800",high:"bg-orange-100 text-orange-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"})[s]||"bg-gray-100 text-gray-800",U=s=>{const t=new Date(s);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},F=async(s,t)=>{const o=x.notifications.data.find(_=>_.id===t);o&&!o.read_at&&u.post(`/notifications/${t}/read`,{},{preserveScroll:!0}),setTimeout(()=>{u.visit(s)},200)},O=s=>{u.post(`/notifications/${s}/read`,{},{preserveScroll:!0,only:["notifications","flash"]})},q=()=>{if(!L.value){N("No Action","No unread notifications to mark");return}u.post("/notifications/read-all",{},{preserveScroll:!0,only:["notifications","flash"]})},I=s=>{confirm("Are you sure you want to delete this notification?")&&u.delete(`/notifications/${s}`,{preserveScroll:!0,only:["notifications","flash"]})},P=()=>{if(confirm("Are you sure you want to delete all notifications? This action cannot be undone.")){if(k.value===0){N("No Action","No notifications to delete");return}u.delete("/notifications/clear-all",{preserveScroll:!0,only:["notifications","flash"]})}};return(s,t)=>(i(),n(p,null,[S(b(Z),{title:"Notifications"}),h.value?(i(),n("div",G,[e("div",{class:g(["bg-white border rounded-lg shadow-lg p-4 flex items-center space-x-3 transition-all duration-300",z.value])},[e("div",J,[d.value==="success"?(i(),n("svg",K,[...t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):d.value==="error"?(i(),n("svg",X,[...t[1]||(t[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):d.value==="warning"?(i(),n("svg",ee,[...t[2]||(t[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.664-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"},null,-1)])])):(i(),n("svg",te,[...t[3]||(t[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),e("div",se,[e("p",oe,l(m.value),1),f.value?(i(),n("p",ie,l(f.value),1)):a("",!0)]),e("button",{onClick:v,class:"flex-shrink-0 text-gray-400 hover:text-gray-600"},[...t[4]||(t[4]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])],2)])):a("",!0),S(Q,null,{header:w(()=>[e("div",ne,[t[5]||(t[5]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Notifications ",-1)),e("div",le,[L.value?(i(),n("button",{key:0,onClick:q,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors duration-200"}," Mark All as Read ")):a("",!0),e("button",{onClick:P,class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors duration-200"}," Clear All ")])])]),default:w(()=>[e("div",re,[e("div",ae,[e("div",de,[e("div",ce,[e("div",ue,[e("div",xe,[e("div",he,[e("div",fe,[e("span",ge,l(C.value),1)])]),e("div",me,[e("dl",null,[t[6]||(t[6]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Unread",-1)),e("dd",ve,l(C.value),1)])])])])]),e("div",_e,[e("div",ye,[e("div",be,[e("div",we,[e("div",pe,[e("span",ke,l(k.value),1)])]),e("div",Ce,[e("dl",null,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total",-1)),e("dd",Ne,l(k.value),1)])])])])]),e("div",je,[e("div",Te,[e("div",Me,[e("div",Ae,[e("div",Le,[e("span",Se,l(A.value),1)])]),e("div",Be,[e("dl",null,[t[8]||(t[8]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Critical",-1)),e("dd",Ve,l(A.value),1)])])])])]),e("div",$e,[e("div",ze,[e("div",De,[e("div",He,[e("div",Re,[e("span",Ee,l(M.value),1)])]),e("div",Ue,[e("dl",null,[t[9]||(t[9]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Read",-1)),e("dd",Fe,l(M.value),1)])])])])])]),e("div",Oe,[r.notifications.data.length===0?(i(),n("div",qe,[...t[10]||(t[10]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No notifications",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"You're all caught up! No new notifications.",-1)])])):(i(),n("ul",Ie,[(i(!0),n(p,null,B(r.notifications.data,o=>(i(),n("li",{key:o.id,class:g(["hover:bg-gray-50 transition-colors duration-150",{"bg-blue-50":!o.read_at}])},[e("div",Pe,[e("div",Qe,[e("div",We,[e("div",Ye,[e("span",{class:g(["inline-flex items-center justify-center h-10 w-10 rounded-full text-lg",R(o.data.severity||"medium")])},l(o.data.icon||"ðŸ“„"),3)]),e("div",Ze,[e("div",Ge,[e("h3",Je,l(o.data.title||"Notification"),1),e("span",{class:g(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",E(o.data.severity||"medium")])},l((o.data.severity||"medium").toUpperCase()),3),o.read_at?a("",!0):(i(),n("span",Ke))]),e("p",Xe,l(o.data.message||"No message available"),1),e("div",et,[e("p",tt,l(U(o.created_at)),1),e("div",st,[o.read_at?a("",!0):(i(),n("button",{key:0,onClick:_=>O(o.id),class:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-150"}," Mark as read ",8,ot)),o.data.action_url?(i(),n("button",{key:1,onClick:_=>F(o.data.action_url,o.id),class:"text-xs text-green-600 hover:text-green-500 transition-colors duration-150"}," View Alert ",8,it)):a("",!0),e("button",{onClick:_=>I(o.id),class:"text-xs text-red-600 hover:text-red-500 transition-colors duration-150"}," Delete ",8,nt)])])])])])])],2))),128))])),r.notifications.links&&r.notifications.links.length>3?(i(),n("div",lt,[e("div",rt,[r.notifications.prev_page_url?(i(),j(b(T),{key:0,href:r.notifications.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:w(()=>[...t[11]||(t[11]=[V(" Previous ",-1)])]),_:1},8,["href"])):a("",!0),r.notifications.next_page_url?(i(),j(b(T),{key:1,href:r.notifications.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:w(()=>[...t[12]||(t[12]=[V(" Next ",-1)])]),_:1},8,["href"])):a("",!0)]),e("div",at,[e("div",null,[e("p",dt," Showing "+l(r.notifications.from||0)+" to "+l(r.notifications.to||0)+" of "+l(r.notifications.total||0)+" notifications ",1)]),e("div",null,[e("nav",ct,[(i(!0),n(p,null,B(r.notifications.links,o=>(i(),n(p,{key:o.label},[o.url?(i(),j(b(T),{key:0,href:o.url,innerHTML:o.label,class:g(["relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium transition-colors duration-150",o.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"text-gray-500 hover:bg-gray-50"])},null,8,["href","innerHTML","class"])):(i(),n("span",{key:1,innerHTML:o.label,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400 cursor-not-allowed"},null,8,ut))],64))),128))])])])])):a("",!0)])])])]),_:1})],64))}};export{mt as default};
